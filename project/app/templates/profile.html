{% extends "base.html" %}
{% block content %}
<section class="page-section profile-shell">
    <div class="d-flex justify-content-start mb-3">
        <a href="/" class="btn-ghost text-decoration-none text-dark">–ù–∞–∑–∞–¥</a>
    </div>
    <h2 class="fw-bold text-center mb-4">–ü—Ä–æ—Ñ–∏–ª—å</h2>

    <div class="row g-4 align-items-start mb-4">
        <div class="col-lg-7">
            <div class="profile-card p-4 profile-hero-left mx-auto">
                <div class="text-center mb-3">
                    <div class="avatar-circle mb-2">üë§</div>
                    <div class="fw-semibold">{{ user.full_name if user.full_name is defined and user.full_name else "–§–∞–º–∏–ª–∏—è –ò–º—è" }}</div>
                    <div class="text-muted small">{{ user.email }}</div>
                </div>
                <button class="gray-btn w-100">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</button>
            </div>
        </div>
        <div class="col-lg-5 d-flex flex-column gap-3">
            <div class="profile-card p-3 profile-progress">
                <div class="fw-semibold mb-2">–ú–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å</div>
                <div class="small">–ö—É—Ä—Å: {{ progress.course_title or (course.name if course else '') }} ‚Äî {{ progress.percent }}%</div>
                <div class="small">–¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å: {{ user.level or "A0" }}</div>
                <div class="small">–ü—Ä–æ–π–¥–µ–Ω–æ —É—Ä–æ–∫–æ–≤: {{ progress.completed_lessons }} –∏–∑ {{ progress.total_lessons }}</div>
                <div class="progress progress-slim mt-2">
                    <div class="progress-bar" role="progressbar" style="width: {{ progress.percent }}%;"></div>
                </div>
            </div>
            <div class="profile-card p-3">
                <div class="fw-semibold mb-2">–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã</div>
                <div class="d-flex flex-column gap-2">
                    {% for cert in certificates %}
                    <a class="badge-soft text-decoration-none text-dark" href="/module/{{ cert.id }}">{{ cert.title }}</a>
                    {% else %}
                    <div class="badge-soft">–ú–æ–¥—É–ª—å 1</div>
                    <div class="badge-soft">–ú–æ–¥—É–ª—å 2</div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>

    <div class="row g-4 mb-4">
        <div class="col-lg-6">
            <div class="profile-card p-3 h-100">
                <div class="fw-semibold mb-3">–ü—Ä–æ–π–¥–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ –∏ —É—Ä–æ–∫–∏</div>
                <div class="vstack gap-2">
                    {% for item in modules_list %}
                    <div class="badge-soft w-100 text-center">{{ item }}</div>
                    {% else %}
                    <div class="badge-soft w-100 text-center">–ú–æ–¥—É–ª—å 1</div>
                    <div class="badge-soft w-100 text-center">–ú–æ–¥—É–ª—å 2</div>
                    <div class="badge-soft w-100 text-center">–ú–æ–¥—É–ª—å 3, —É—Ä–æ–∫ 3</div>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="profile-card p-3 h-100">
                <div class="fw-semibold mb-2">AutoChecker</div>
                <div class="text-muted small mb-3">–ê–≤—Ç–æ—á–µ–∫–µ—Ä ‚Äî –ò–ò-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç –∏ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –≤ —Ç–µ–∫—Å—Ç–µ, –Ω–µ –∏—Å–ø—Ä–∞–≤–ª—è—è –∏—Ö</div>
                <div class="placeholder-box mb-3" style="height: 120px;"></div>
                <a class="gray-btn text-decoration-none d-inline-block" href="/autochecker">–ü–µ—Ä–µ–π—Ç–∏</a>
            </div>
        </div>
    </div>

    <div class="text-center">
        <a class="gray-btn px-4 text-decoration-none d-inline-block" href="/dictionary">–ú–æ–π —Å–ª–æ–≤–∞—Ä—å</a>
    </div>
</section>
{% endblock %}
